<!DOCTYPE html>
<html>
<head>
    <title>在庫管理</title>
    <script>
        function confirmDelete(itemId) {
            if (confirm("この在庫を削除してもよろしいですか？")) {
                window.location.href = "/inventory/delete/" + itemId;
            }
        }
        function confirmAdd() {
            return confirm("この在庫を追加しますか？");
        }
    </script>
</head>
<body>
    <h1>在庫管理</h1>
    <form method="post" action="/inventory/add">
        <input type="text" name="category" placeholder="種類" required>
        <input type="text" name="name" placeholder="商品名" required>
        <input type="number" name="quantity" placeholder="数量" required>
        <input type="date" name="expire_date" placeholder="賞味期限" required>
        <button type="submit" onclick="return confirmAdd()">追加</button>
    </form>
    <table border="1">
        <tr>
            <th>No</th>
            <th>種類</th>
            <th>商品名</th>
            <th>数量</th>
            <th>賞味期限</th>
            <th>操作</th>
        </tr>
        {% for item in items %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>{{ item.category }}</td>
            <td>{{ item.item_name }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.expire_date.strftime('%Y-%m-%d') }}</td>
            <td><a href="#" onclick="confirmDelete('{{ item.id }}')">削除</a></td>
        </tr>
        {% endfor %}
    </table>
    <a href="/">ToDoへ戻る</a>
</body>
</html>
